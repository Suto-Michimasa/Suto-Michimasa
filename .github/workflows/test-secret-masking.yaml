name: Test Secret Masking
on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Test secret masking behavior
        env:
          SECRET: ${{ secrets.TEST_SECRET }}
        run: |
          echo "=== テスト1: 通常出力（マスクされるはず） ==="
          echo "Secret: ${SECRET}"
          
          echo ""
          echo "=== テスト2: 文字数確認 ==="
          echo "Length: ${#SECRET}"
          
          echo ""
          echo "=== テスト3: 先頭1文字 + 残り（マスク回避） ==="
          echo "Split: ${SECRET:0:1} ${SECRET#?}"
          
          echo ""
          echo "=== テスト4: base64エンコード（マスク回避） ==="
          echo "$SECRET" | base64
